<ng-template #deleteModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Confirmação de Exclusão</h4>
  </div>
  <div class="modal-body">
    Tem certeza que deseja excluir a produto "{{ produtoToDelete?.titulo }}"?
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Cancelar</button>
    <button type="button" class="btn btn-danger" (click)="confirmDeleteAction()">Confirmar</button>
  </div>
</ng-template>

<div class="container mt-4 d-flex justify-content-center">
  <div class="card" style="width: 70%;">
    <div class="card-body">
      <h2 class="display-4 text-center">Produtos</h2>

      <div class="text-end mb-4">
        <button class="btn btn-success" (click)="addProduto()">Adicionar produto</button>
      </div>

      <!-- Campo de pesquisa acima e botão de adicionar à direita -->
      <div class="mb-4">
        <input type="text" [(ngModel)]="searchTerm" placeholder="Buscar produto" class="form-control" (input)="filterProdutos()" style="width: 40%;">
      </div>

      <!-- Tabela de produto -->
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Categoria</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let produto of filteredProdutos">
            <td>{{ produto.id }}</td>
            <td>{{ produto.titulo }}</td>
            <td>{{ produto.descricao }}</td>
            <td>{{ produto.categoriaTitulo }}</td>
            <td>
              <button class="btn btn-primary me-2" (click)="editProduto(produto)">Editar</button>
              <button class="btn btn-danger" (click)="deleteProduto(produto)">Apagar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
