<ng-template #deleteModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Confirmação de Exclusão</h4>
  </div>
  <div class="modal-body">
    Tem certeza que deseja excluir a categoria "{{ categoriaToDelete?.titulo }}"?
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Cancelar</button>
    <button type="button" class="btn btn-danger" (click)="confirmDeleteAction()">Confirmar</button>
  </div>
</ng-template>

<div class="container mt-4 d-flex justify-content-center">
  <div class="card" style="width: 70%;">
    <div class="card-body">
      <h1 class="display-4 text-center">Categorias</h1>

      <div class="text-end mb-4">
        <button class="btn btn-success" (click)="addCategoria()">Adicionar Categoria</button>
      </div>

      <!-- Campo de pesquisa e botão de adicionar -->
      <div class="mb-4">
        <input type="text" [(ngModel)]="searchTerm" placeholder="Buscar Categoria" class="form-control" (input)="filterCategorias()" style="width: 40%;">
      </div>


      <!-- Tabela de Categoria -->
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let categoria of filteredCategorias">
            <td>{{ categoria.id }}</td>
            <td>{{ categoria.titulo }}</td>
            <td>
              <button class="btn btn-primary me-2" (click)="editCategoria(categoria)">Editar</button>
              <button class="btn btn-danger" (click)="deleteCategoria(categoria)">Apagar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
